<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>D3 Array API</title>

    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      p {
        font-size: medium;
        color: orangered;
        margin: 5px;
      }
    </style>

    <script type="text/javascript" src="https://d3js.org/d3.v6.js"></script>
    <script src="https://d3js.org/d3-array.v1.min.js"></script>
  </head>

  <body>
    <h1>D3.js Array</h1>

    <h2 class="data">Array:</h2>
    <h2 class="min">Min:</h2>
    <h2 class="max">Max:</h2>
    <h2 class="extent">Extent:</h2>
    <h2 class="sum">Sum:</h2>

    <script>
      let data = [20, 40, 60, 80, 100];
      d3.select(".data").append("p").text(data);

      let min = d3.min(data);
      d3.select(".min").append("p").text(min);

      let max = d3.max(data);
      d3.select(".max").append("p").text(max);

      // min and max values
      let extent = d3.extent(data);
      d3.select(".extent").append("p").text(extent);

      let sum = d3.sum(data);
      d3.select(".sum").append("p").text(sum);

      let mean = d3.mean(data);
      d3.select("body").append("h2").text("Mean:").append("p").text(mean);

      let quantile = 0.3;
      d3.select("body")
        .append("h2")
        .text(`Quantile ${quantile}:`)
        .append("p")
        .text(d3.quantile(data, quantile));

      quantile = 0.7;
      d3.select("body")
        .append("h2")
        .text(`Quantile ${quantile}:`)
        .append("p")
        .text(d3.quantile(data, quantile));

      quantile = 0.9;
      d3.select("body")
        .append("h2")
        .text(`Quantile ${quantile}:`)
        .append("p")
        .text(d3.quantile(data, quantile));

      let variance = d3.variance(data);
      d3.select("body")
        .append("h2")
        .text("Variance:")
        .append("p")
        .text(variance);

      let deviation = d3.deviation(data);
      d3.select("body")
        .append("h2")
        .text("Deviation:")
        .append("p")
        .text(deviation);

      console.log("min", d3.min(data));
      console.log("max", d3.max(data));
      console.log("extent", d3.extent(data));
      console.log("sum", d3.sum(data));
      console.log("mean", d3.mean(data));
      console.log("0.5 quantile", d3.quantile(data, 0.5));
      console.log("variance", d3.variance(data));
      console.log("deviation", d3.deviation(data));

      let mergedArray = d3.merge([data, data]);
      console.log(mergedArray);

      let pairs = d3.pairs(data);
      console.log(pairs);
    </script>
  </body>
</html>
